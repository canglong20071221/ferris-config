# --- BLUETOOTH & CONNECTION STABILITY ---
CONFIG_ZMK_BLE=y
CONFIG_BT=y
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5

# Fix 1: Boost signal power to max (Helps split connectivity)
CONFIG_BT_CTLR_TX_PWR_PLUS_4=y

# Fix 2: Enable experimental connection features (Critical for Windows/macOS stability)
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# Fix 3: Disable strict GATT enforcement (Fixes "Unknown Device" / Reconnection issues after reboot)
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n

# --- BATTERY ---
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_BATTERY_REPORT_INTERVAL=180
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# --- POWER MANAGEMENT ---
CONFIG_ZMK_IDLE_TIMEOUT=30000
# Enter deep sleep after 1 hour (3600000 ms)
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=3600000
# Soft Off REMOVED (Physical switch used instead)
# CONFIG_ZMK_PM_SOFT_OFF=y

# --- MOUSE ---
CONFIG_ZMK_POINTING=y

# --- COMBOS (Required for Vertical Barring) ---
CONFIG_ZMK_COMBO_MAX_COMBOS_PER_KEY=20
CONFIG_ZMK_COMBO_MAX_KEYS_PER_COMBO=4

# --- REPORT & BEHAVIORS ---
CONFIG_ZMK_BEHAVIORS_QUEUE_SIZE=512

# --- ZMK STUDIO ---
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCK_IDLE_TIMEOUT_SEC=300

# --- SYSTEM ---
CONFIG_ZMK_KEYBOARD_NAME="sweep split kbd"
